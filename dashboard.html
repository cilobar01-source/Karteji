<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Dashboard â€¢ KARTEJI v5.6</title>
<link rel="icon" href="assets/logo.svg" />
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<style>
/* ========== VARIABEL WARNA ========== */
:root{
  --glass-bg: rgba(255,255,255,0.55);
  --text:#111827; --muted:#555;
  --accent:#0e4c92; --highlight:#f6c445;
  --line:rgba(0,0,0,.08); --shadow:0 4px 18px rgba(0,0,0,.15);
  --danger:#e54848; --success:#14b86a;
}
@media(prefers-color-scheme:dark){
  :root{
    --glass-bg:rgba(25,25,35,0.45);
    --text:#f5f7fa; --muted:#cbd5e1;
    --line:rgba(255,255,255,.1); --shadow:0 8px 30px rgba(0,0,0,.5);
  }
}
*{box-sizing:border-box;transition:.25s ease all;}
body{
  margin:0;font-family:'Poppins',system-ui;
  background:url('assets/bg/blur-home.jpg') center/cover fixed no-repeat;
  color:var(--text);display:flex;min-height:100vh;
}

/* ========== SIDEBAR ========== */
aside{
  width:260px;backdrop-filter:blur(24px);
  background:var(--glass-bg);border-right:1px solid var(--line);
  padding:1rem;display:flex;flex-direction:column;justify-content:space-between;
  box-shadow:var(--shadow);
}
aside .logo{display:flex;align-items:center;gap:.6rem;font-weight:700;margin-bottom:1.5rem}
aside .logo img{width:36px;height:36px;border-radius:8px}
aside nav a, aside nav button{
  display:block;width:100%;text-align:left;border:none;background:transparent;
  padding:.7rem 1rem;margin:.2rem 0;border-radius:10px;font-weight:600;color:var(--text);cursor:pointer;
}
aside nav a:hover, aside nav button:hover{background:rgba(0,0,0,0.08)}
@media(prefers-color-scheme:dark){aside nav a:hover,aside nav button:hover{background:rgba(255,255,255,0.1)}}
.menu-head{font-weight:700;margin-top:.8rem;margin-bottom:.4rem;color:var(--accent)}

/* ========== MAIN AREA ========== */
main{flex:1;padding:1.5rem;display:flex;flex-direction:column;gap:1.5rem}

/* HEADER TOPBAR */
header{
  backdrop-filter:blur(20px);background:var(--glass-bg);
  border:1px solid var(--line);border-radius:16px;box-shadow:var(--shadow);
  padding:.8rem 1.4rem;display:flex;justify-content:space-between;align-items:center;
}
header h2{margin:0;font-size:1.2rem;color:var(--accent)}
.profile{display:flex;align-items:center;gap:.7rem}
.profile img{width:40px;height:40px;border-radius:50%;object-fit:cover;border:2px solid var(--highlight)}

/* CARD & SECTION */
section.card{
  background:var(--glass-bg);border:1px solid var(--line);
  border-radius:16px;padding:1.2rem;box-shadow:var(--shadow);
}
h3{margin-top:0;font-size:1.1rem;color:var(--accent)}
hr{border:none;border-top:1px dashed var(--line);margin:1rem 0}

/* GRID / FORM */
.grid{display:grid;gap:1rem}
@media(min-width:900px){.grid-2{grid-template-columns:repeat(2,1fr)}.grid-3{grid-template-columns:repeat(3,1fr)}}
input,textarea,select{width:100%;background:transparent;border:1px solid var(--line);
  border-radius:10px;padding:.6rem;color:var(--text);font-family:inherit}
.btn{border:none;border-radius:10px;padding:.55rem .9rem;font-weight:700;cursor:pointer}
.btn-primary{background:var(--highlight);color:#0b132b}
.btn-ghost{background:transparent;border:1px solid var(--line);color:var(--text)}
.btn-danger{background:var(--danger);color:#fff}
.muted{color:var(--muted);font-size:.9rem}

/* TABLE-LIKE LIST */
.table-like .item{display:grid;grid-template-columns:1fr auto;gap:.6rem;border:1px dashed var(--line);
  border-radius:10px;padding:.7rem;margin:.4rem 0}

/* RESPONSIVE NAV MOBILE */
.bottom-tabs{display:none}
@media(max-width:900px){
  aside{display:none}
  .bottom-tabs{position:fixed;left:0;right:0;bottom:0;
    background:var(--glass-bg);backdrop-filter:blur(20px);border-top:1px solid var(--line);
    display:grid;grid-template-columns:repeat(6,1fr);z-index:99}
  .bottom-tabs button{background:transparent;border:none;padding:.7rem;font-size:1rem;color:var(--text)}
  .bottom-tabs button.active{color:var(--highlight)}
}

/* TOAST */
.toast{position:fixed;bottom:20px;right:20px;background:var(--glass-bg);
  border:1px solid var(--highlight);padding:.6rem .9rem;border-radius:10px;z-index:9999}
.hidden{display:none}
</style>
</head>

<body>
<!-- SIDEBAR -->
<aside>
  <div>
    <div class="logo"><img src="assets/logo.svg"><span>KARTEJI</span></div>
    <div class="menu-head">ğŸ“‹ Data</div>
    <nav>
      <button data-panel="home" class="active">ğŸ  Ringkasan</button>
      <button data-panel="pengumuman">ğŸ“¢ Pengumuman</button>
      <button data-panel="berita">ğŸ“° Berita</button>
      <button data-panel="umkm">ğŸª UMKM</button>
      <button data-panel="kas">ğŸ’° Kas</button>
      <button data-panel="kegiatan">ğŸ’ª Kegiatan</button>
      <button data-panel="leaderboard">ğŸ… Leaderboard</button>
      <button data-panel="anggota">ğŸ‘¥ Anggota</button>
    </nav>

    <div class="menu-head">âš™ï¸ Pengaturan</div>
    <nav>
      <button data-panel="profil">ğŸ‘¤ Profil</button>
      <button id="themeBtn">ğŸŒ— Mode</button>
    </nav>
  </div>
  <button id="logoutBtn" class="btn btn-ghost" style="width:100%">Keluar</button>
</aside>

<!-- MAIN -->
<main>
  <header>
    <h2 id="panelTitle">Dashboard KARTEJI</h2>
    <div class="profile">
      <img id="userPhoto" src="assets/default-avatar.png">
      <div>
        <div id="userName">Memuatâ€¦</div>
        <small id="userRole" class="muted">â€“</small>
      </div>
    </div>
  </header>

  <!-- PANEL CONTAINER (REUSING YOUR SCRIPT LOGIC) -->
  <section id="panel-home" class="card">
    <h3>ğŸ  Ringkasan</h3>
    <div class="grid grid-2">
      <div class="card">
        <h4>Grafik Kas</h4>
        <canvas id="kasChart" height="180"></canvas>
      </div>
      <div class="card">
        <h4>Statistik Cepat</h4>
        <p id="statKas" class="muted">Total kas: Rp 0</p>
        <p id="statBerita" class="muted">Total berita: 0</p>
        <p id="statUmkm" class="muted">Total produk: 0</p>
        <p id="statPeng" class="muted">Total pengumuman: 0</p>
        <p id="statKegiatan" class="muted">Total kegiatan: 0</p>
      </div>
    </div>
  </section>

  <!-- â€¦(SEMUA PANEL LAIN tetap seperti versi lama, tinggal copy kontennya ke sini agar CRUD tetap jalan) -->

  <footer class="muted" style="text-align:center;padding:1rem">Â© 2025 KARTEJI Cilosari Barat</footer>
</main>

<!-- BOTTOM NAV -->
<div class="bottom-tabs">
  <button data-panel="home" class="active">ğŸ </button>
  <button data-panel="berita">ğŸ“°</button>
  <button data-panel="umkm">ğŸª</button>
  <button data-panel="kegiatan">ğŸ’ª</button>
  <button data-panel="kas">ğŸ’°</button>
  <button data-panel="profil">ğŸ‘¤</button>
</div>

<script type="module">
// ====== import semua script kamu v5.1 di sini persis sama ======
// contoh ringkas:
import { initializeApp } from "https://www.gstatic.com/firebasejs/10.14.1/firebase-app.js";
import { getAuth,onAuthStateChanged,signOut } from "https://www.gstatic.com/firebasejs/10.14.1/firebase-auth.js";
import { getFirestore } from "https://www.gstatic.com/firebasejs/10.14.1/firebase-firestore.js";
// dst. (seluruh bagian JS CRUD-mu sama persis seperti sebelumnya)
</script>
</body>
</html>
